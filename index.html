<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Croati Mission Control</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="header-brand">
            <span class="lobster-icon">ü¶û</span>
            <h1>CROATI MISSION CONTROL</h1>
            <span class="live-badge">LIVE</span>
        </div>
        <div class="header-actions">
            <button class="btn btn-secondary" onclick="refreshAll()">üîÑ Refresh</button>
            <button class="btn" onclick="spawnAgent()">+ Spawn Agent</button>
        </div>
    </header>

    <nav class="nav">
        <ul>
            <li><a href="index.html" class="active">Dashboard</a></li>
            <li><a href="agents.html">Agents</a></li>
            <li><a href="crons.html">Cron Jobs</a></li>
            <li><a href="missions.html">Mission Log</a></li>
        </ul>
    </nav>

    <main class="dashboard">
        <!-- Active Agents -->
        <div class="card">
            <div class="card-header">
                <h2><span>üë•</span> ACTIVE AGENTS</h2>
                <span id="agent-count">Loading...</span>
            </div>
            <div class="card-body">
                <div id="active-agents-list">
                    <p class="placeholder">Loading agents...</p>
                </div>
            </div>
        </div>

        <!-- Mission Pipeline Stats -->
        <div class="card">
            <div class="card-header">
                <h2><span>üìä</span> MISSION PIPELINE</h2>
            </div>
            <div class="card-body">
                <div class="pipeline-stats">
                    <div class="stat-item">
                        <div class="stat-number" id="stat-running">-</div>
                        <div class="stat-label">Running</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="stat-completed">-</div>
                        <div class="stat-label">Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="stat-idle">-</div>
                        <div class="stat-label">Idle</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="card">
            <div class="card-header">
                <h2><span>‚ö°</span> QUICK ACTIONS</h2>
            </div>
            <div class="card-body">
                <div class="action-grid">
                    <button class="action-btn" onclick="quickAction('weather')">
                        <span>üå§Ô∏è</span>
                        Check Weather
                    </button>
                    <button class="action-btn" onclick="quickAction('notion')">
                        <span>üìù</span>
                        Check Notion
                    </button>
                    <button class="action-btn" onclick="quickAction('cron')">
                        <span>‚è∞</span>
                        Trigger Cron
                    </button>
                    <button class="action-btn" onclick="quickAction('tts')">
                        <span>üîä</span>
                        Run TTS
                    </button>
                    <button class="action-btn" onclick="quickAction('kill-all')">
                        <span>üõë</span>
                        Kill All
                    </button>
                    <button class="action-btn" onclick="quickAction('browser')">
                        <span>üåê</span>
                        Open Browser
                    </button>
                </div>
            </div>
        </div>

        <!-- System Health -->
        <div class="card">
            <div class="card-header">
                <h2><span>üìä</span> SYSTEM HEALTH</h2>
            </div>
            <div class="card-body">
                <div class="health-grid">
                    <div class="health-card healthy" id="health-gateway">
                        <h4>üöÄ Gateway</h4>
                        <span class="status">Healthy</span>
                        <span class="metric">23ms</span>
                    </div>
                    <div class="health-card healthy" id="health-kimi">
                        <h4>üé≠ Kimi API</h4>
                        <span class="status">Connected</span>
                        <span class="metric">45ms</span>
                    </div>
                    <div class="health-card healthy" id="health-github">
                        <h4>üêô GitHub</h4>
                        <span class="status">Connected</span>
                        <span class="metric">ethanhardage</span>
                    </div>
                    <div class="health-card healthy" id="health-notion">
                        <h4>üìì Notion</h4>
                        <span class="status">Connected</span>
                        <span class="metric">3 tasks</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Events -->
        <div class="card section-full">
            <div class="card-header">
                <h2><span>üìú</span> RECENT EVENTS</h2>
            </div>
            <div class="card-body">
                <div class="events-list" id="events-list">
                    <div class="event-item">
                        <span class="event-time">22:48</span>
                        <span class="event-message">‚úÖ Mission Control API deployed</span>
                    </div>
                    <div class="event-item">
                        <span class="event-time">22:35</span>
                        <span class="event-message">‚úÖ Backend server built</span>
                    </div>
                    <div class="event-item">
                        <span class="event-time">22:30</span>
                        <span class="event-message">‚úÖ Frontend API client ready</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="api-client.js"></script>
</body>
</html>